{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\User\\\\Downloads\\\\MobX\\\\components\\\\GetMarkList.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, Fragment } from 'react';\nimport axios from 'axios';\nimport MarkListTable from './MarkListTable';\nimport GoogleMapReact from 'google-map-react';\n\nvar GetMarkList = function GetMarkList() {\n  var _useState = useState([]),\n      markList = _useState[0],\n      setMarkList = _useState[1];\n\n  var getMarkList = function getMarkList(e) {\n    e.preventDefault();\n    axios.get('http://localhost:4000/api/marklist').then(function (response) {\n      setMarkList(response.data);\n      console.log(response.data);\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n  };\n\n  var fetchInitialData =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var res, initialData;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch('http://localhost:4000/api/marklist');\n\n            case 2:\n              res = _context.sent;\n              _context.next = 5;\n              return res.json();\n\n            case 5:\n              initialData = _context.sent;\n              console.log(initialData);\n              setMarkList(initialData);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchInitialData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    fetchInitialData();\n  }, []);\n\n  var Map = function Map(_ref2) {\n    var markList = _ref2.markList;\n    var defaultProps = {\n      center: {\n        lat: 59.95,\n        lng: 30.33\n      },\n      zoom: 11\n    };\n\n    var Marker = function Marker(mark) {\n      return __jsx(\"div\", {\n        style: {\n          fontSize: \"24px\",\n          color: \"Red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        lat: Number(mark.lat),\n        lng: Number(mark.lng),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, mark.name));\n    };\n\n    return __jsx(\"div\", {\n      style: {\n        height: '90vh',\n        width: '80%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, __jsx(GoogleMapReact, {\n      bootstrapURLKeys: {\n        key: 'AIzaSyCGdylwOS37HVgu289UA6q2J4omA81Rd-w'\n      },\n      defaultCenter: defaultProps.center,\n      defaultZoom: defaultProps.zoom,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, markList.map(function (mark) {\n      return __jsx(Marker, {\n        lat: mark.lat,\n        lng: mark.lng,\n        name: mark.name,\n        key: mark.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      });\n    })));\n  };\n\n  return __jsx(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, __jsx(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, __jsx(\"button\", {\n    onClick: getMarkList,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"get marklist\")), __jsx(MarkListTable, {\n    markList: markList,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }), __jsx(Map, {\n    markList: markList,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }));\n};\n\nexport default GetMarkList;","map":{"version":3,"sources":["C:\\Users\\User\\Downloads\\MobX\\components\\GetMarkList.js"],"names":["React","useState","useEffect","Fragment","axios","MarkListTable","GoogleMapReact","GetMarkList","markList","setMarkList","getMarkList","e","preventDefault","get","then","response","data","console","log","err","fetchInitialData","fetch","res","json","initialData","Map","defaultProps","center","lat","lng","zoom","Marker","mark","fontSize","color","Number","name","height","width","key","map","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\r\nimport axios from 'axios';\r\nimport MarkListTable from './MarkListTable';\r\nimport GoogleMapReact from 'google-map-react'\r\n\r\n\r\nconst GetMarkList = () => {\r\n    const [markList, setMarkList] = useState([]);\r\n\r\n    const getMarkList = (e) => {\r\n        e.preventDefault();\r\n        axios.get('http://localhost:4000/api/marklist')\r\n            .then(response => {\r\n                setMarkList(response.data)\r\n                console.log(response.data)\r\n            })\r\n            .catch(err => { console.log(err) })\r\n\r\n    }\r\n\r\n    const fetchInitialData = async () => {\r\n        const res = await fetch('http://localhost:4000/api/marklist');\r\n        const initialData = await res.json();\r\n        console.log(initialData);\r\n        setMarkList(initialData);\r\n    }\r\n    useEffect(() => {\r\n        fetchInitialData()\r\n    }, [])\r\n\r\n    const Map = ({ markList }) => {\r\n        const defaultProps = {\r\n            center: {\r\n                lat: 59.95,\r\n                lng: 30.33\r\n            },\r\n            zoom: 11\r\n        };\r\n        \r\n        \r\n        const Marker = (mark) => {\r\n            return (\r\n                <div style={{fontSize: \"24px\", color: \"Red\"}}>\r\n                    <div lat={Number(mark.lat)} lng={Number(mark.lng)}>{mark.name}</div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div style={{ height: '90vh', width: '80%' }}>\r\n                <GoogleMapReact\r\n                    bootstrapURLKeys={{ key: 'AIzaSyCGdylwOS37HVgu289UA6q2J4omA81Rd-w' }}\r\n                    defaultCenter={defaultProps.center}\r\n                    defaultZoom={defaultProps.zoom}\r\n                >\r\n\r\n                    {markList.map((mark) => {\r\n                        return (<Marker\r\n                            lat={mark.lat}\r\n                            lng={mark.lng}\r\n                            name={mark.name}\r\n                            key={mark.id} />);\r\n                    })}\r\n                   \r\n                    {/* <Marker\r\n                        lat=\"59.955413\"\r\n                        lng=\"30.337844\"\r\n                        text=\"T1\"\r\n                    />\r\n\r\n                    <Marker\r\n                        lat=\"59.955413\"\r\n                        lng=\"30.437844\"\r\n                        text=\"T2\"\r\n                    /> */}\r\n                    {}\r\n                </GoogleMapReact>\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <Fragment>\r\n            <form>\r\n                <button onClick={getMarkList}>\r\n                    get marklist\r\n            </button>\r\n            </form>\r\n            <MarkListTable markList={markList} />\r\n            <Map markList={markList} />\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default GetMarkList;\r\n"]},"metadata":{},"sourceType":"module"}